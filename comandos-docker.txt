# compilar archivo Dockerfile, despues de -t (tag de la imagen) se pone un nombre y luego del nombre : y ponemos
# la version, no olvidar el signo . al final

docker build -t discovery-server:0.0.1 .

# asociar una imagen existente en el docker desktop a mi docker hub
# guarda una relacion con los comandos git
#
# 0 hacemos login al repositorio
#
docker login

# 1 asociamos el tag
#
docker tag discovery-server-discovery-server tellonelson/discovery-server

docker tag discovery-server-config-server tellonelson/config-server

docker tag discovery-server-cloud-gateway tellonelson/cloud-gateway

docker tag discovery-server-laundry-service tellonelson/laundry-service

docker tag discovery-server-laundry-integration-nigisu-service tellonelson/laundry-integration-nigisu-service

# 2 pusheamos lo asociado
#
docker push tellonelson/discovery-server
docker push tellonelson/config-server
docker push tellonelson/cloud-gateway
docker push tellonelson/laundry-service
docker push tellonelson/laundry-integration-nigisu-service


# estos son los tag de servidores
#
discovery-server-discovery-server
discovery-server-config-server
discovery-server-cloud-gateway

# estos son los tag de microservicios
#
discovery-server-laundry-integration-nigisu-service
discovery-server-laundry-service

EUREKA.SERVER.HOSTNAME https://discovery-server-6myasrw2va-uc.a.run.app/eureka

CONFIG.SERVER.HOSTNAME https://config-server-6myasrw2va-uc.a.run.app

SERVER.DATABASE.NG jdbc:sybase:Tds:25.177.226.128:2638?ServiceName=faccsystem


# MONTAR SISTEMA LAUNDRY
#
#
1. Bajar las imagenes al local con pull

sudo docker pull tellonelson/discovery-server:latest
sudo docker pull tellonelson/config-server:latest
sudo docker pull tellonelson/cloud-gateway:latest
sudo docker pull tellonelson/laundry-service:latest
sudo docker pull tellonelson/laundry-integration-nigisu-service:latest

2. Realizar docker compose up -d

3. Crear la base tintulav desde Dbeaver


curl "http://localhost:9090/api/integration/receptions/findAll"